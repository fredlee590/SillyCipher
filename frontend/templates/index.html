{% extends 'base.html' %}

{% block head %}
<title>Silly Cipher</title>
{% endblock %}

{% block body %}
<div class="content">
    <h1>Silly Cipher</h1>

    <!-- START -->
    {% if quizzes|length > 0 %}
    <form action="/" method='POST'>
        <h2>Manage Registered Quizzes</h2>
        <p>Specify message to delete or decrypt. If the latter, be prepared to answer questions to formulate decryption key to use.</p>
        <select name="quiz_id" id="quiz_id">
            {% for quiz in quizzes %}
            <option value={{quiz.qid}}>{{quiz.qid}}</option>
            {% endfor %}
        </select>
        <br>
        <br>
        <button type="submit" class="btn btn-outline-success" name="button" value="Go To Quiz">Go To Quiz</button>
        <button type="submit" class="btn btn-outline-danger" name="button" value="Delete Quiz">Delete Quiz</button>
    </form>
    <br>
    {% endif %}
    <h2>Register New Quiz</h2>
    <p>Upload a newline separated questions file and Silly Cipher encrypted message file to register a new Quiz.</p>
    <form enctype=multipart/form-data action='/' method='POST'>
        <h3>Question File</h3>
        <input type="file" name="questions_file" id="question_file">
        <br>
        <h3>Message File</h3>
        <input type="file" name="encrypted_file" id="encrypted_file">
        <br>
        <br>
        <button type="submit" class="btn btn-outline-success" name="button" value="Add Quiz">Add Quiz</button>
    </form>
    {% if last_created %}
        <p>Last added quiz ID: {{ last_created }}</p>
    {% endif %}
</div>
{% endblock %}
